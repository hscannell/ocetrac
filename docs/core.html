---

title: Ocetrac


keywords: fastai
sidebar: home_sidebar

summary: "Track and label marine heatwaves from geospatial data. "
description: "Track and label marine heatwaves from geospatial data. "
nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Functions">Functions<a class="anchor-link" href="#Functions"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># import xarray as xr</span>
<span class="c1"># import numpy as np</span>

<span class="c1"># data_array = xr.DataArray(np.random.rand(5,3,3), dims=[&#39;time&#39;,&#39;lat&#39;,&#39;lon&#39;], name=&#39;test&#39;,</span>
<span class="c1">#                           coords={&#39;time&#39;: np.random.rand(5),</span>
<span class="c1">#                                   &#39;lat&#39;: np.random.rand(3),</span>
<span class="c1">#                                   &#39;lon&#39;: np.random.rand(3)})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>ERROR:root:Internal Python error in the inspect module.
Below is the traceback from this internal error.

ERROR:root:Internal Python error in the inspect module.
Below is the traceback from this internal error.

ERROR:root:Internal Python error in the inspect module.
Below is the traceback from this internal error.

</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/pkgutil.py&#34;, line 416, in get_importer
    importer = sys.path_importer_cache[path_item]
KeyError: &#39;&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3418, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)
  File &#34;&lt;ipython-input-1-9bcc7fe161fa&gt;&#34;, line 2, in &lt;module&gt;
    import xarray as xr
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/xarray/__init__.py&#34;, line 1, in &lt;module&gt;
    import pkg_resources
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3268, in &lt;module&gt;
    def _initialize_master_working_set():
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3251, in _call_aside
    f(*args, **kwargs)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3280, in _initialize_master_working_set
    working_set = WorkingSet._build_master()
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 573, in _build_master
    ws = cls()
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 566, in __init__
    self.add_entry(entry)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 622, in add_entry
    for dist in find_distributions(entry, True):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 1979, in find_distributions
    importer = get_importer(path_item)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/pkgutil.py&#34;, line 420, in get_importer
    importer = path_hook(path_item)
  File &#34;&lt;frozen importlib._bootstrap_external&gt;&#34;, line 1529, in path_hook_for_FileFinder
  File &#34;&lt;frozen importlib._bootstrap_external&gt;&#34;, line 107, in _path_isdir
FileNotFoundError: [Errno 2] No such file or directory

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2045, in showtraceback
    stb = value._render_traceback_()
AttributeError: &#39;FileNotFoundError&#39; object has no attribute &#39;_render_traceback_&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1170, in get_records
    return _fixed_getinnerframes(etb, number_of_lines_of_context, tb_offset)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 316, in wrapped
    return f(*args, **kwargs)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 350, in _fixed_getinnerframes
    records = fix_frame_records_filenames(inspect.getinnerframes(etb, context))
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 1529, in getinnerframes
    frameinfo = (tb.tb_frame,) + getframeinfo(tb, context)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 1487, in getframeinfo
    filename = getsourcefile(frame) or getfile(frame)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 709, in getsourcefile
    if getattr(getmodule(object, filename), &#39;__loader__&#39;, None) is not None:
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 738, in getmodule
    file = getabsfile(object, _filename)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 722, in getabsfile
    return os.path.normcase(os.path.abspath(_filename))
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/posixpath.py&#34;, line 379, in abspath
    cwd = os.getcwd()
FileNotFoundError: [Errno 2] No such file or directory
Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/pkgutil.py&#34;, line 416, in get_importer
    importer = sys.path_importer_cache[path_item]
KeyError: &#39;&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3418, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)
  File &#34;&lt;ipython-input-1-9bcc7fe161fa&gt;&#34;, line 2, in &lt;module&gt;
    import xarray as xr
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/xarray/__init__.py&#34;, line 1, in &lt;module&gt;
    import pkg_resources
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3268, in &lt;module&gt;
    def _initialize_master_working_set():
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3251, in _call_aside
    f(*args, **kwargs)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3280, in _initialize_master_working_set
    working_set = WorkingSet._build_master()
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 573, in _build_master
    ws = cls()
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 566, in __init__
    self.add_entry(entry)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 622, in add_entry
    for dist in find_distributions(entry, True):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 1979, in find_distributions
    importer = get_importer(path_item)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/pkgutil.py&#34;, line 420, in get_importer
    importer = path_hook(path_item)
  File &#34;&lt;frozen importlib._bootstrap_external&gt;&#34;, line 1529, in path_hook_for_FileFinder
  File &#34;&lt;frozen importlib._bootstrap_external&gt;&#34;, line 107, in _path_isdir
FileNotFoundError: [Errno 2] No such file or directory

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2045, in showtraceback
    stb = value._render_traceback_()
AttributeError: &#39;FileNotFoundError&#39; object has no attribute &#39;_render_traceback_&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3338, in run_ast_nodes
    if (await self.run_code(code, result,  async_=asy)):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3435, in run_code
    self.showtraceback(running_compiled_code=True)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2047, in showtraceback
    stb = self.InteractiveTB.structured_traceback(etype,
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1436, in structured_traceback
    return FormattedTB.structured_traceback(
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1336, in structured_traceback
    return VerboseTB.structured_traceback(
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1193, in structured_traceback
    formatted_exception = self.format_exception_as_a_whole(etype, evalue, etb, number_of_lines_of_context,
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1151, in format_exception_as_a_whole
    last_unique, recursion_repeat = find_recursion(orig_etype, evalue, records)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 451, in find_recursion
    return len(records), 0
TypeError: object of type &#39;NoneType&#39; has no len()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2045, in showtraceback
    stb = value._render_traceback_()
AttributeError: &#39;TypeError&#39; object has no attribute &#39;_render_traceback_&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1170, in get_records
    return _fixed_getinnerframes(etb, number_of_lines_of_context, tb_offset)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 316, in wrapped
    return f(*args, **kwargs)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 350, in _fixed_getinnerframes
    records = fix_frame_records_filenames(inspect.getinnerframes(etb, context))
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 1529, in getinnerframes
    frameinfo = (tb.tb_frame,) + getframeinfo(tb, context)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 1487, in getframeinfo
    filename = getsourcefile(frame) or getfile(frame)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 709, in getsourcefile
    if getattr(getmodule(object, filename), &#39;__loader__&#39;, None) is not None:
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 738, in getmodule
    file = getabsfile(object, _filename)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 722, in getabsfile
    return os.path.normcase(os.path.abspath(_filename))
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/posixpath.py&#34;, line 379, in abspath
    cwd = os.getcwd()
FileNotFoundError: [Errno 2] No such file or directory
Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/pkgutil.py&#34;, line 416, in get_importer
    importer = sys.path_importer_cache[path_item]
KeyError: &#39;&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3418, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)
  File &#34;&lt;ipython-input-1-9bcc7fe161fa&gt;&#34;, line 2, in &lt;module&gt;
    import xarray as xr
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/xarray/__init__.py&#34;, line 1, in &lt;module&gt;
    import pkg_resources
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3268, in &lt;module&gt;
    def _initialize_master_working_set():
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3251, in _call_aside
    f(*args, **kwargs)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 3280, in _initialize_master_working_set
    working_set = WorkingSet._build_master()
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 573, in _build_master
    ws = cls()
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 566, in __init__
    self.add_entry(entry)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 622, in add_entry
    for dist in find_distributions(entry, True):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/pkg_resources/__init__.py&#34;, line 1979, in find_distributions
    importer = get_importer(path_item)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/pkgutil.py&#34;, line 420, in get_importer
    importer = path_hook(path_item)
  File &#34;&lt;frozen importlib._bootstrap_external&gt;&#34;, line 1529, in path_hook_for_FileFinder
  File &#34;&lt;frozen importlib._bootstrap_external&gt;&#34;, line 107, in _path_isdir
FileNotFoundError: [Errno 2] No such file or directory

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2045, in showtraceback
    stb = value._render_traceback_()
AttributeError: &#39;FileNotFoundError&#39; object has no attribute &#39;_render_traceback_&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3338, in run_ast_nodes
    if (await self.run_code(code, result,  async_=asy)):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3435, in run_code
    self.showtraceback(running_compiled_code=True)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2047, in showtraceback
    stb = self.InteractiveTB.structured_traceback(etype,
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1436, in structured_traceback
    return FormattedTB.structured_traceback(
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1336, in structured_traceback
    return VerboseTB.structured_traceback(
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1193, in structured_traceback
    formatted_exception = self.format_exception_as_a_whole(etype, evalue, etb, number_of_lines_of_context,
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1151, in format_exception_as_a_whole
    last_unique, recursion_repeat = find_recursion(orig_etype, evalue, records)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 451, in find_recursion
    return len(records), 0
TypeError: object of type &#39;NoneType&#39; has no len()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2045, in showtraceback
    stb = value._render_traceback_()
AttributeError: &#39;TypeError&#39; object has no attribute &#39;_render_traceback_&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2923, in _run_cell
    return runner(coro)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/async_helpers.py&#34;, line 68, in _pseudo_sync_runner
    coro.send(None)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3146, in run_cell_async
    has_raised = await self.run_ast_nodes(code_ast.body, cell_name,
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 3357, in run_ast_nodes
    self.showtraceback()
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2047, in showtraceback
    stb = self.InteractiveTB.structured_traceback(etype,
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1436, in structured_traceback
    return FormattedTB.structured_traceback(
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1336, in structured_traceback
    return VerboseTB.structured_traceback(
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1211, in structured_traceback
    formatted_exceptions += self.format_exception_as_a_whole(etype, evalue, etb, lines_of_context,
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1151, in format_exception_as_a_whole
    last_unique, recursion_repeat = find_recursion(orig_etype, evalue, records)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 451, in find_recursion
    return len(records), 0
TypeError: object of type &#39;NoneType&#39; has no len()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/interactiveshell.py&#34;, line 2045, in showtraceback
    stb = value._render_traceback_()
AttributeError: &#39;TypeError&#39; object has no attribute &#39;_render_traceback_&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 1170, in get_records
    return _fixed_getinnerframes(etb, number_of_lines_of_context, tb_offset)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 316, in wrapped
    return f(*args, **kwargs)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/site-packages/IPython/core/ultratb.py&#34;, line 350, in _fixed_getinnerframes
    records = fix_frame_records_filenames(inspect.getinnerframes(etb, context))
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 1529, in getinnerframes
    frameinfo = (tb.tb_frame,) + getframeinfo(tb, context)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 1487, in getframeinfo
    filename = getsourcefile(frame) or getfile(frame)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 709, in getsourcefile
    if getattr(getmodule(object, filename), &#39;__loader__&#39;, None) is not None:
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 738, in getmodule
    file = getabsfile(object, _filename)
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/inspect.py&#34;, line 722, in getabsfile
    return os.path.normcase(os.path.abspath(_filename))
  File &#34;/glade/u/home/scanh/miniconda3/envs/ocetrac-2020/lib/python3.9/posixpath.py&#34;, line 379, in abspath
    cwd = os.getcwd()
FileNotFoundError: [Errno 2] No such file or directory
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="label" class="doc_header"><code>label</code><a href="https://github.com/hscannell/ocetrac/tree/master/ocetrac/core.py#L6" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>label</code>(<strong><code>da</code></strong>)</p>
</blockquote>
<p>2D image labeling</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>da : xarray.DataArray
    The data to label</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>labels : xarray.DataArray
    Integer labels of connected regions.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/ocetrac/core.html#label"><code>label</code></a> lets us identify marine heatwaves as 2-dimensional objects using morphological image processing. Let's run through an example using the NOAA Optimum Interpolation Sea Surface Temperature (OISST) dataset. We are using data that had been preprocessed as to keep only those anomalies that exceed the 90th percentile with respect to the 1981-2020 monthly climatology.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's test <code>_check_input</code> to make sure that our data is either an <code>xr.DataArray</code> or <code>xr.Dataset</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># import numpy as np</span>

<span class="c1"># data_array = xr.DataArray(np.random.rand(5,3,3), dims=[&#39;time&#39;,&#39;lat&#39;,&#39;lon&#39;], name=&#39;test&#39;,</span>
<span class="c1">#                           coords={&#39;time&#39;: np.random.rand(5),</span>
<span class="c1">#                                   &#39;lat&#39;: np.random.rand(3),</span>
<span class="c1">#                                   &#39;lon&#39;: np.random.rand(3)})</span>

<span class="c1"># data_out = _check_input(data_array,&#39;test&#39;)</span>
<span class="c1"># assert type(data_out)==xr.core.dataarray.DataArray or type(data_out)==xr.core.dataarray.Dataset</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="track" class="doc_header"><code>track</code><a href="https://github.com/hscannell/ocetrac/tree/master/ocetrac/core.py#L65" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>track</code>(<strong><code>da</code></strong>)</p>
</blockquote>
<p>Track labeled features</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>da : xarray.DataArray
    The data in which to track features</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>tracked : xarray.DataArray
    Integer labels of tracked regions.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

